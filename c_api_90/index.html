<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Sanford Rockowitz">
  <link rel="canonical" href="https://www.ddcutil.com/c_api_90/">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>C API Changes for Release 0.9.0 - ddcutil Documentation</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "C API Changes for Release 0.9.0";
    var mkdocs_page_input_path = "c_api_90.md";
    var mkdocs_page_url = "/c_api_90/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> ddcutil Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Introduction</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../commands/">Command Overview</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../cmd_output/">Command Examples</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Command Examples</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../detect_verbose_output/">ddcutil detect example</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../getvcp_known_u3011_output/">ddcutil getvcp example</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../vcpinfo_output/">ddcutil vcpinfo example</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../cap_u3011_verbose_output/">ddcutil capabilities example</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../command_detail/">Command Detail</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Command Detail</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="#">Primary Commands</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../command_detect/">detect</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../command_capabilities/">capabilities</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../command_getvcp/">getvcp</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../command_setvcp/">setvcp</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../command_vcpinfo/">vcpinfo</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../command_dumpvcp_loadvcp/">dumpvcp &amp; loadvcp</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../command_scs/">scs</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../secondary_commands/">Secondary Commands</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../options_main/">Command Options</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Command Options</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../display_selection/">Display Selection</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../feature_selection/">Feature Selection</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../performance_options/">Performance and Tuning Options</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../instrumentation_options/">Instrumentation Options</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../output_control_options/">Output Level Options</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../other_options/">Miscellaneous Options</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../debug_options/">Debugging Options</a>
                </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Specific Facilities</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../table_features/">Table Type Features</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../usb/">USB Connected Monitors</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../colormgt/">Color Management</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../udf/">User Defined Features</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../config_file/">Configuration File</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Installation and Configuration</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../install/">Install ddcutil From Prebuilt Packages</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../building/">Building From Source</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../shared_lib_config/">Shared Library Configuration</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../config/">Configuration and Installation Diagnostics</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../i2c_permissions/">I2C Device Permissions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../usb_permissions/">USB Device Permissions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../kernel_module/">Kernel Module Configuration</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../nvidia/">Special Nvidia Driver Settings</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../virtual_machines/">Virtual Machines</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../raspberry/">Raspberry Pi</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../monitor_notes/">Notes on Specific Monitors</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../quirks/">Notes on Particular Configurations</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">API</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../api_main/">C API</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">C API Changes for Release 0.9.0</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#multithreading">Multithreading</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#library-build-information">Library Build Information</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#status-code-functions">Status Code Functions</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#detailed-error-reports">Detailed Error Reports</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#global-settings">Global Settings</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#output-redirection-and-capture">Output Redirection and Capture</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#message-control">Message Control</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#statistics-and-diagnostics">Statistics and Diagnostics</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#feature-lists">Feature Lists</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#mccs-version-identification">MCCS Version Identification</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#detect-displays">Detect Displays</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#display-identifiers">Display Identifiers</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#display-references">Display References</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#display-handles">Display Handles</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#capabilities-string">Capabilities String</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#feature-metadata">Feature Metadata</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#nc-feature-value-lookup">NC Feature Value Lookup</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#symbol-name-changes">Symbol Name Changes</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#get-and-set-vcp-feature-values">Get and Set VCP Feature Values</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#get-or-set-multiple-values">Get or Set Multiple Values</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#format-feature-values">Format Feature Values</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#miscellaneous-changes">Miscellaneous Changes</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#sample-programs">Sample programs</a>
    </li>
        </ul>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../c_api_93/">C API Changes for Release 0.9.3</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../c_api_95/">C API Changes for Release 0.9.5</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../c_api_96/">C API Changes for Release 0.9.6</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../c_api_98/">C API Changes for Release 0.9.8</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../c_api_99/">C API Changes for Release 0.9.9</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../c_api_100/">C API Changes for Release 1.0.0</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../python_api/">Python API Overview</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Background</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../mccs_background/">Monitor Control Command Set</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../ddc_vs_i2c/">DDC vs I2C</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../displayport/">DDC and DisplayPort</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../bibliography/">References</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Additional Topics</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../faq/">Frequently Asked Questions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../tech_support/">Technical Support</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../ddccontrol/">Comparison with ddccontrol</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../ddc_null_response/">DDC Null Message</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../acknowledgements/">Acknowledgements</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Release History</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../releases/">Releases</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../release_notes/">Release Notes</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../prior_announcements/">Announcement History</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">ddcui</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../ddcui_main/">Overview</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../ddcui_options/">Command Line Options</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../building_ddcui/">Building ddcui</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../ddcui_release_notes/">ddcui Release Notes</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">ddcutil Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>API &raquo;</li>
        
      
    
    <li>C API Changes for Release 0.9.0</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/rockowitz/ddcutil/edit/master/docs/c_api_90.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="c-api-changes-for-release-090">C API Changes for Release 0.9.0</h2>
<p>See also: <br />
- <a href="../api_main/">Main C API Page</a><br />
- <a href="../python_api/">Python API</a> </p>
<p>The C API has been extensively revised reflecting experience gained from work on a Qt C++ GUI interface.</p>
<p>New header files:   </p>
<table>
<thead>
<tr>
<th>File Name</th>
<th>Contents</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddcutil_macros.h</td>
<td>Macros to specify the <strong>ddcutil</strong> version at compile time</td>
</tr>
<tr>
<td>ddcutil_status_codes.h</td>
<td>Status codes defined by <strong>ddcutil</strong></td>
</tr>
</tbody>
</table>
<h4 id="multithreading">Multithreading</h4>
<p>There is rudiementary support for multi-threaded use of the API.</p>
<p>Considerations:</p>
<ul>
<li>It is safe to perform simultaneous operations on separate displays (using distinct display handles) on separate threads.   </li>
<li>Multiple simultaneous DDC operations on the same display will have unpredictable results.  </li>
<li>Do not open multiple handles for the same display. <br />
The <strong>ddcutil</strong> API prevents opening multiple handles for devices with the same DDCA_IO_Path, 
which blocks the most common case.  However, it is conceivable that the same monitor might be 
connected in multiple ways (e.g. with both a DDC and USB connection), with multiple cards, 
or even from separate computers.   In this case it is the application's or even user's responsibility
to ensure that conflict does not occur.   </li>
<li>The following settings are now thread specific: <ul>
<li>whether <strong>setvcp</strong> verification is enabled (<strong>ddca_enable_verify()</strong>, <strong>ddca_is_verify_enabled()</strong>)</li>
<li>output redirection (<strong>ddca_set_fout()</strong>, etc.)</li>
<li>output level (<strong>ddca_set_output_level()</strong>, <strong>ddca_get_output_level()</strong>)</li>
</ul>
</li>
</ul>
<p>Presently, multi-threaded operation is best managed in the application. 
The C++ Qt based GUI currently under development does the following: <br />
- Calls <strong>ddca_get_display_info_list()</strong> to enumerate the displays<br />
    - Opens the display (i.e. creates a <strong>DDCA_Display_Handle</strong>)<br />
    - Maintains a queue of requests <br />
    - Calls the ddcutil API for each request, and updates the GUI accordingly </p>
<h4 id="library-build-information">Library Build Information</h4>
<p>No changes.</p>
<table>
<thead>
<tr>
<th>Unchanged</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_ddcutil_version()</td>
<td></td>
</tr>
<tr>
<td>ddca_ddcutil_version_string()</td>
<td></td>
</tr>
<tr>
<td>ddca_build_options()</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="status-code-functions">Status Code Functions</h4>
<p>No changes.</p>
<table>
<thead>
<tr>
<th>Unchanged</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_rc_name()</td>
<td></td>
</tr>
<tr>
<td>ddca_rc_desc()</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="detailed-error-reports">Detailed Error Reports</h4>
<p>In some cases, detailed error information is appopriate, particularly when there 
are multiple causes, each of which should be reported.  The following functions 
get and release detailed error reports for the most recent API call. </p>
<p>Currently implemented only for <strong>ddca_set_profile_related_values()</strong>, reports 
each case of invalid data in the input and the line at which it occurred.</p>
<table>
<thead>
<tr>
<th>New</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_get_error_detail()</td>
<td>Get detailed error information for most recent API call</td>
</tr>
<tr>
<td>ddca_free_error_detai()</td>
<td>Free detailed error information</td>
</tr>
</tbody>
</table>
<h4 id="global-settings">Global Settings</h4>
<table>
<thead>
<tr>
<th>Unchanged</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_max_max_tries()</td>
<td></td>
</tr>
<tr>
<td>ddca_get_max_tries()</td>
<td></td>
</tr>
<tr>
<td>ddca_set_max_tries()</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Changed</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_enable_verify()</td>
<td>now thread-specific setting, returns prior value</td>
</tr>
<tr>
<td>ddca_is_verify_enabled()</td>
<td>now thread-specific setting</td>
</tr>
</tbody>
</table>
<h4 id="output-redirection-and-capture">Output Redirection and Capture</h4>
<p>Output redirection is now thread-specific.</p>
<table>
<thead>
<tr>
<th>Changed Functions</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_set_fout()</td>
<td>now thread-specific</td>
</tr>
<tr>
<td>ddca_set_fout_to_default()</td>
<td>now thread-specific</td>
</tr>
<tr>
<td>ddca_set_ferr()</td>
<td>now thread-specific</td>
</tr>
<tr>
<td>ddca_set_ferr_to_default()</td>
<td>now thread-specific</td>
</tr>
</tbody>
</table>
<p>Added convenience functions to capture output normally directed to the terminal. 
Output capture is thread specific.</p>
<table>
<thead>
<tr>
<th>New</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_start_capture()</td>
<td>Begin capturing output</td>
</tr>
<tr>
<td>ddca_end_capture()</td>
<td>Terminates capture, returns the captured value</td>
</tr>
</tbody>
</table>
<p>For examples of output redirection, see sample program <strong>demo_redirection.c</strong>. </p>
<h4 id="message-control">Message Control</h4>
<p>Output level settings are now thread-specific.</p>
<table>
<thead>
<tr>
<th>Changed</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_get_output_level()</td>
<td>now thread-specific</td>
</tr>
<tr>
<td>ddca_set_output_level()</td>
<td>now thread-specific, returns old level</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Unchanged</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_output_level_name()</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="statistics-and-diagnostics">Statistics and Diagnostics</h3>
<p>Statistics and diagnostics control are global, not thread-specific.</p>
<table>
<thead>
<tr>
<th>Unchanged</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_reset_stats()</td>
<td></td>
</tr>
<tr>
<td>ddca_show_stats()</td>
<td></td>
</tr>
<tr>
<td>ddca_is_report_ddc_errors_enabled()</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Changed</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_enable_report_ddc_errors()</td>
<td>returns old level</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>New</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_enable_error_info()</td>
<td>control display of internal exception reports</td>
</tr>
</tbody>
</table>
<h4 id="feature-lists">Feature Lists</h4>
<p>Struct <strong><em>DDCA_Feature_List</em></strong> specifies a set of VCP feature codes using a 256 bit array.</p>
<p>Functions and constants for operating on feature lists:</p>
<table>
<thead>
<tr>
<th>New</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_feature_list_add()</td>
<td>add a VCP feature code to the list</td>
</tr>
<tr>
<td>ddca_feature_list_and()</td>
<td>returns intersection of 2 lists</td>
</tr>
<tr>
<td>ddca_feature_list_and_not()</td>
<td>returns the features in one list that are not in a second</td>
</tr>
<tr>
<td>ddca_feature_list_clear()</td>
<td>clear all entries in the feature list</td>
</tr>
<tr>
<td>ddca_feature_list_contains()</td>
<td>check if a VCP feature code is in the list</td>
</tr>
<tr>
<td>ddca_feature_list_count()</td>
<td>number of features in list</td>
</tr>
<tr>
<td>ddca_feature_list_id_name()</td>
<td>get symbolic name of feature list id</td>
</tr>
<tr>
<td>ddca_feature_list_or()</td>
<td>returns union of 2 feature lists</td>
</tr>
<tr>
<td>ddca_feature_list_string()</td>
<td>returns a string representation of a feature list</td>
</tr>
<tr>
<td>ddca_get_feature_list_by_dref()</td>
<td>returns a feature list identifying the features in named feature set (e.g. COLOR)</td>
</tr>
<tr>
<td>DDCA_EMPTY_FEATURE_LIST</td>
<td>an empty feature list</td>
</tr>
</tbody>
</table>
<p>For an example of using feature lists, see sample program <strong>demo_feature_list.c</strong>.</p>
<h4 id="mccs-version-identification">MCCS Version Identification</h4>
<p>To date, the API has had two different ways to specify the Monitor Control Command Set (MCCS) version:<br />
- <strong>DDCA_MCCS_Version_Spec</strong>,  a pair of 8 bit unsigned integers.<br />
- <strong>DDCA_MCCS_Version_Id</strong>, an enum of valid MCCS versions.</p>
<p>Going forward, the API will use <strong>DDCA_MCCS_Version_Spec</strong>.  Existing functions using
<strong>DDCA_MCCS_Version_Id</strong> are retained, but are marked as deprecated and will be
removed in a future release.  Once the deprecated functions are removed, there
will likely be some simplification of the remaining function names.</p>
<p>Symbolic constants <strong>DDCA_VSPEC_V10</strong> etc. have been added for <strong>DDCA_MCCS_Version_Spec</strong> values. </p>
<table>
<thead>
<tr>
<th>Deprecated</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>DDCA_MCCS_Version_Id</td>
<td>MCCS version enum</td>
</tr>
<tr>
<td>ddca_mccs_version_id_name()</td>
<td></td>
</tr>
<tr>
<td>ddca_mccs_version_id_desc()</td>
<td></td>
</tr>
<tr>
<td>ddca_get_mccs_version_id()</td>
<td>Get MCCS version id for display handle</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Unchanged</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_get_mccs_version()</td>
<td>takes DDCA_Display_Handle argument</td>
</tr>
</tbody>
</table>
<p>Background:</p>
<p>Each way to specify the MCCS version has its advantages.  <strong>DDCA_MCCS_Version_Spec</strong> was chosen because
it is the form already used in the MCCS spec.</p>
<p><strong>DDCA_MCCS_Version_Spec</strong><br />
- Feature code xDF (get MCCS version) returns a number pair<br />
- The capabilities string specifies the MCCS version as a number pair</p>
<p><strong>DDCA_MCCS_Version_Id</strong><br />
- There are only a handful of valid version numbers<br />
- Simplifies version specification<br />
- Simplifies version comparisons, which are complicated by the fact<br />
that both Version 3.0 and Version 2.2 are independent successors to Version 2.1. </p>
<h4 id="detect-displays">Detect Displays</h4>
<ul>
<li><strong>ddca_display_info_list2()</strong> replaces <strong>ddca_display_info_list()</strong>, allows for including displays that don't support DDC, 
  signature returns a status code, conforming to standard API pattern</li>
<li><strong>ddca_report_displays()</strong> replaces <strong>ddca_report_active_displays</strong>, added parm to allow for reporting invalid displays</li>
<li>Struct <strong>DDCA_Display_Info</strong> now has a field for the MCCS version.  </li>
</ul>
<table>
<thead>
<tr>
<th>Deprecated</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_get_display_info_list()</td>
<td>Use ddca_get_display_info_list2()</td>
</tr>
<tr>
<td>ddca_report_active_displays()</td>
<td>Use ddca_report_displays()</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Unchanged</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_report_display_info()</td>
<td></td>
</tr>
<tr>
<td>ddca_report_display_info_list()</td>
<td></td>
</tr>
<tr>
<td>ddca_free_display_info_list()</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>New</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_get_display_info_list2()</td>
<td>Can include displays that don't support DDC</td>
</tr>
<tr>
<td>ddca_report_display_by_dref()</td>
<td>Report display information using code in <strong>ddcutil detect</strong></td>
</tr>
<tr>
<td>ddca_report_displays()</td>
<td>Optionally include displays that don't support DDC</td>
</tr>
</tbody>
</table>
<h4 id="display-identifiers">Display Identifiers</h4>
<p>No changes. </p>
<table>
<thead>
<tr>
<th>Unchanged Functions</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_create_dispno_display_identifier()</td>
<td></td>
</tr>
<tr>
<td>ddca_create_busno_display_identifier()</td>
<td></td>
</tr>
<tr>
<td>ddca_create_adlno_display_identifier()</td>
<td></td>
</tr>
<tr>
<td>ddca_create_mfg_model_sn_display_identifier()</td>
<td></td>
</tr>
<tr>
<td>ddca_create_edid_display_identifier()</td>
<td></td>
</tr>
<tr>
<td>ddca_create_usb_display_identifier()</td>
<td></td>
</tr>
<tr>
<td>ddca_create_usb_hiddev_display_identifier()</td>
<td></td>
</tr>
<tr>
<td>ddca_free_display_identifier()</td>
<td></td>
</tr>
<tr>
<td>ddca_did_repr()</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="display-references">Display References</h4>
<table>
<thead>
<tr>
<th>Deprecated</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_get_edid_by_dref()</td>
<td>renamed, was ddca_get_edid_by_display_reference()</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Unchanged</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_create_display_ref()</td>
<td></td>
</tr>
<tr>
<td>ddca_free_display_ref()</td>
<td></td>
</tr>
<tr>
<td>ddca_dref_repr()</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Changed</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_dbgrpt_display_ref()</td>
<td>renamed, was ddca_report_display_ref()</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>New</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_report_display_by_dref()</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="display-handles">Display Handles</h4>
<table>
<thead>
<tr>
<th>Deprecated API Functions</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_open_display()</td>
<td>Use ddca_open_display2()</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Unchanged</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_close_display()</td>
<td></td>
</tr>
<tr>
<td>ddca_dh_repr()</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>New</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_open_display2()</td>
<td>allows for waiting if display locked by another thread</td>
</tr>
<tr>
<td>ddca_display_ref_from_handle()</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="capabilities-string">Capabilities String</h4>
<table>
<thead>
<tr>
<th>Unchanged</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_get_capabilities_string()</td>
<td></td>
</tr>
<tr>
<td>ddca_parse_capabilities_string()</td>
<td></td>
</tr>
<tr>
<td>ddca_free_parsed_capabilities()</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Changed</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_report_parsed_capabilities()</td>
<td>interprets feature and value codes</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Added</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_feature_list_from_capabilities()</td>
<td>Create feature id bitifield from capabilities</td>
</tr>
</tbody>
</table>
<h4 id="feature-metadata">Feature Metadata</h4>
<p>Struct <strong>DDCA_Version_Feature_Info</strong> and related functions are deprecated.  Instead, the master 
record for feature metadata is now <strong>DDCA_Feature_Metadata</strong>.  </p>
<p>|Deprecated and Deleted                  |Comments |
|---------------------|------------------|-----------------------------------------------------------------------|
|DDCA_Version_Feature_Info               | use DDCA_Feature_Metadata |
|ddca_get_feature_info_by_vcp_version()  | Use ddca_get_feature_metadata()  - in 0.8.7
|ddca_get_feature_info_by_display()      | Use ddca_get_feature_metadata()   |
|ddca_free_feature_info()                | in 0.8.7? 
|ddca_get_simple_sl_value_table()        | Takes a DDCA_MCCS_Version_Id argument. |</p>
<table>
<thead>
<tr>
<th>Unchanged</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_get_feature_name()</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Added Structs and Functions</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>DDCA_Feature_Metadata</td>
<td>replaces DDCA_Version_Feature_Info</td>
</tr>
<tr>
<td>ddca_get_feature_metadata_by_dref()</td>
<td></td>
</tr>
<tr>
<td>ddca_get_feature_metadata_by_dh()</td>
<td></td>
</tr>
<tr>
<td>ddca_free_feature_metadata_contents()</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Additional new granular functions</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_feature_name_by_dref()</td>
<td></td>
</tr>
<tr>
<td>ddca_get_simple_sl_value_table_by_dref()</td>
<td>Gets table of valid values if flag <strong>DDCA_SIMPLE_NC</strong> is set in <strong>DDCA_Feature_Flags</strong>.</td>
</tr>
</tbody>
</table>
<p>Miscellaneous changes:<br />
- Bitfield <strong>DDCA_Version_Feature_Flags</strong> now has bit <strong>DDCA_NC_COMPLEX</strong>, indicating a VCP code
(designated by MCCS as Non-Continuous) that uses certain values as an NC feature and uses the 
remaining range for continyous adjustment. An example of such a feature is VCP code x62 (Audio Speaker Volume)
as defined in MCCS versions 3.0 and 2.2, where value x00 is defined as "Fixed (default level)", value xFF is "Mute", 
and values x01..xFE provide a continuous range for volume adjustment. </p>
<h4 id="nc-feature-value-lookup">NC Feature Value Lookup</h4>
<p>(See Metadata section for discussion of getting lookup tables)</p>
<table>
<thead>
<tr>
<th>Deprecated and Deleted Functions</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_get_simple_nc_feature_value_name()</td>
<td>Get feature metadata, then use ddca_get_simple_nc_feature_name_by_table()</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>New</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_get_simple_nc_feature_value_name_by_table()</td>
<td>new</td>
</tr>
</tbody>
</table>
<p>|ddca_get_simple_nc_feature_value_name_by_display() | new, or deprecated??  check |</p>
<h4 id="symbol-name-changes">Symbol Name Changes</h4>
<p>Numerous symbols have been renamed for clarity and consistency.
General changes:<br />
- The names of report functions that display internal data structures for debugging, as opposed to reports
designed to be shown to users, now begin with "ddca_dbgrpt_" instead of "ddca_report_". <br />
- Enum values <strong>DDCA_V10</strong> etc. are now <strong>DDCA_MCCS_V10</strong> etc. (but note that the use of <strong>DDCA_MCCS_Version_Id</strong> is deprecated 
in favor of <strong>DDCA_MCCS_Version_Spec</strong>)<br />
- Names of parameters that specify the address at which a pointer is to be returned now generally end in "_loc".</p>
<p>Specific changes not listed elsewhere: </p>
<table>
<thead>
<tr>
<th>Old Name</th>
<th>New Name</th>
</tr>
</thead>
<tbody>
<tr>
<td>DDCA_IO_DEVI2C</td>
<td>DDCA_IO_I2C</td>
</tr>
</tbody>
</table>
<p>Naming patterns: <br />
- Functions that always return the same value generally do not include "<strong><em>_get_</em></strong>" in their names,
e.g. <strong>ddca_ddcutil_version()*<em>, <strong>ddca_max_max_tries()</strong> <br />
- In the case of "overloaded" functions, "</em></strong>_by_<strong><em>" is usually used to distinguish variants,
e.g. </em>*ddca_get_feature_metadata_by_vspec()</strong>, <strong>ddca_get_feature_metadata_by_dref()*<em>, <strong>get_feature_metadata_by_display()</strong><br />
- However, in the case where there the result depends on a single input value from which the result
is extracted, "</em></strong>_from_<strong><em>" is used,
e.g. </em>*ddca_mmk_from_dref()</strong>, <strong>ddca_mmk_from_dh()</strong> </p>
<h4 id="get-and-set-vcp-feature-values">Get and Set VCP Feature Values</h4>
<p><strong>DDCA_Any_Vcp_Value</strong> vs <strong>DDCA_Non_Table_Vcp_Value</strong></p>
<p>The API provides functions for getting, setting, and otherwise processing VCP values in 3 forms, 
using the type specific <strong>DDCA_Non_Table_Vcp_Value</strong> or <strong>DDCA_Table_Vcp_Value</strong> or the more 
general <strong>DDCA_Any_Vcp_Value</strong>.   The first form is simpler to use, and does not entail the 
allocation of arbitrarily size buffers. </p>
<p>As a practical matter, while the MCCS spec defines Table type features, they have not been observed
on any monitors.  Supporting Table type features in a UI adds complexity.
API users will probably want to use the simpler <strong>DDCA_Non_Table_Vcp_Value</strong> functions.</p>
<p>The following tables summarize the structs and API functions for getting and setting VCP feature values.</p>
<table>
<thead>
<tr>
<th>Deprecated</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_set_simple_nc_vcp_value()</td>
<td>unchanged, but deprecated</td>
</tr>
<tr>
<td>ddca_set_continuous_vcp_value()</td>
<td>unchanged, but deprecated</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Changed</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>DDCA_Non_Table_Vcp_Value</td>
<td>renamed, was DDCA_Non_Table_Value</td>
</tr>
<tr>
<td>DDCA_Table_Vcp_Value</td>
<td>renamed, was DDCA_Table_Value</td>
</tr>
<tr>
<td>ddca_get_non_table_vcp_value()</td>
<td>renamed, was ddca_get_nontable_vcp_value()</td>
</tr>
<tr>
<td>ddca_get_any_vcp_value_using_explicit_type()</td>
<td>renamed, was ddca_get_any_vcp_value(), parm type change</td>
</tr>
<tr>
<td>ddca_set_non_table_vcp_value()</td>
<td>renamed, was ddca_set_raw_vcp_value()</td>
</tr>
<tr>
<td>ddca_get_table_vcp_value()</td>
<td>parameter change</td>
</tr>
<tr>
<td>ddca_free_table_vcp_value()</td>
<td>renamed from ddca_free_table_value_response()</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>New</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_get_any_vcp_value_using_implicit_type()</td>
<td>new function</td>
</tr>
<tr>
<td>ddca_set_table_vcp_value()</td>
<td>new</td>
</tr>
<tr>
<td>ddca_set_any_vcp_value()</td>
<td>new</td>
</tr>
<tr>
<td>ddca_free_any_vcp_value()</td>
<td>new</td>
</tr>
<tr>
<td>dbgrpt_any_vcp_value()</td>
<td>new</td>
</tr>
</tbody>
</table>
<h4 id="get-or-set-multiple-values">Get or Set Multiple Values</h4>
<table>
<thead>
<tr>
<th>Unchanged</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_get_profile_related_values()</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Changed</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_set_profile_related_values()</td>
<td>add display handle parm</td>
</tr>
</tbody>
</table>
<p>if <strong>ddca_set_profile_related_values()</strong> returns <strong>DDCRC_BAD_DATA</strong>, <strong>ddca_get_error_detail()</strong> 
returns a detailed error report.</p>
<h4 id="format-feature-values">Format Feature Values</h4>
<p>Functions <strong>ddca_format_table_vcp_value()</strong>, <strong>ddca_format_non_table_vcp_value()</strong>, and <strong>ddca_format_any_vcp_value()</strong> 
format a feature value, based on its feature code and MCCS version.  </p>
<p>Function <strong>ddca_get_formatted_vcp_value()</strong> continues to exist, but is essentially a convenience function
that combines reading a VCP value with formatting.</p>
<table>
<thead>
<tr>
<th>Unchanged</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_get_formatted_vcp_value()</td>
<td>unchanged</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>New</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddca_format_non_table_vcp_value_by_dref()</td>
<td>new</td>
</tr>
<tr>
<td>ddca_format_table_vcp_value_by_dref()</td>
<td>new</td>
</tr>
<tr>
<td>ddca_format_any_vcp_value_by_dref()</td>
<td>new</td>
</tr>
</tbody>
</table>
<h4 id="miscellaneous-changes">Miscellaneous Changes</h4>
<ul>
<li><strong>ddca_enable_report_ddc_errors()</strong>, <strong>ddca_enable_verify()</strong>, <strong>ddca_set_output_level</strong>
now return the prior setting  </li>
</ul>
<h4 id="sample-programs">Sample programs</h4>
<p>Sample programs have been revised to reflect API changes and new sample programs added.  See the main <a href="../api_main/#Documentation">C API page</a>.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../c_api_93/" class="btn btn-neutral float-right" title="C API Changes for Release 0.9.3">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../api_main/" class="btn btn-neutral" title="C API"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/rockowitz/ddcutil/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../api_main/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../c_api_93/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(false);
        };
    </script>

</body>
</html>
