<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Sanford Rockowitz" /><link rel="canonical" href="https://www.ddcutil.com/release_notes_220/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Release Notes - ddcutil Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Release Notes";
        var mkdocs_page_input_path = "release_notes_220.md";
        var mkdocs_page_url = "/release_notes_220/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> ddcutil Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Introduction</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../commands/">Command Overview</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Command Examples</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../cmd_output/">Command Examples</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../detect_verbose_output/">ddcutil detect example</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../getvcp_known_u3011_output/">ddcutil getvcp example</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../vcpinfo_output/">ddcutil vcpinfo example</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cap_u3011_verbose_output/">ddcutil capabilities example</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Command Detail</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../command_detail/">Command Detail</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../primary_commands/">Primary Commands</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Primary Commands</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../command_detect/">detect</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../command_capabilities/">capabilities</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../command_getvcp/">getvcp</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../command_setvcp/">setvcp</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../command_vcpinfo/">vcpinfo</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../command_dumpvcp_loadvcp/">dumpvcp &amp; loadvcp</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../command_scs/">scs</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../secondary_commands/">Secondary Commands</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../options_main/">Command Options</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Command Options</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../display_detection/">Display Detection</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../display_selection/">Display Selection</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../feature_selection/">Feature Selection</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../performance_options/">Performance and Tuning Options</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../instrumentation_options/">Instrumentation Options</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../output_control_options/">Output Level Options</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../other_options/">Miscellaneous Options</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../i2c_dev_options/">i2c-dev Driver Options</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../debug_options/">Debugging Options</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../deprecated_options/">Deprecated Options</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../libddcutil_options/">Shared Library Options</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Specific Facilities</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../table_features/">Table Type Features</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../usb/">USB Connected Monitors</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../colormgt/">Color Management</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../udf/">User Defined Features</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../config_file/">Configuration File</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Installation and Configuration</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../install_config_main/">Installation and Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../config_steps/">Post-Installation Checklist</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../install/">Install ddcutil From Prebuilt Packages</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../copr_transaction_test_error/">How to fix copr transaction test error</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../building/">Building From Source</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../shared_lib_config/">Shared Library Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../mult_shared_libs/">Notes for Linux Distribution Maintainers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../config/">Configuration and Installation Diagnostics</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../i2c_permissions/">I2C Device Permissions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../i2c_permissions_using_group_i2c/">I2C Device Permissions Using Group i2c</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../usb_permissions/">USB Device Permissions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../kernel_module/">Kernel Module Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../nvidia/">Special Nvidia Driver Settings</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../nvidia_old/">Setting Nvidia Driver Options Using X11</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../amdgpu/">Notes on driver amdgpu</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../virtual_machines/">Virtual Machines</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../raspberry/">Raspberry Pi</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../monitor_notes/">Notes on Specific Monitors</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../quirks/">Notes on Particular Configurations</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../typec/">USB-C DisplayPort Alt Mode</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Shared Library</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../api_main/">C API</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../libddcutil_release_notes/">Shared Library Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_90/">Shared Library Changes for Release 0.9.0</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_93/">Shared Library Changes for Release 0.9.3</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_95/">Shared Library Changes for Release 0.9.5</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_96/">Shared Library Changes for Release 0.9.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_98/">Shared Library Changes for Release 0.9.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_99/">Shared Library Changes for Release 0.9.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_100/">Shared Library Changes for Release 1.0.0</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_110/">Shared Library Changes for Release 1.1.0</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_120/">Shared Library Changes for Release 1.2.0</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_130/">Shared Library Changes for Release 1.3.0</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_140/">Shared Library Changes for Release 1.4.0</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_200/">Shared Library Changes for Release 2.0.0</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_210/">Shared Library Changes for Release 2.1.0</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_212/">Shared Library Changes for Release 2.1.2</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_213/">Shared Library Changes for Release 2.1.3</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_214/">Shared Library Changes for Release 2.1.4</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_220/">Shared Library Changes for Release 2.2.0</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_221/">Shared Library Changes for Release 2.2.1</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_222/">Shared Library Changes for Release 2.2.2</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Background</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../mccs_background/">Monitor Control Command Set</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ddc_vs_i2c/">DDC vs I2C</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../displayport/">DDC and DisplayPort</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../bibliography/">References</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../devdoc/">Developer Documentation</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Additional Topics</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../articles/">Articles about ddcutil</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../faq/">Frequently Asked Questions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tech_support/">Technical Support</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ddccontrol/">Comparison with ddccontrol</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ddc_null_response/">DDC Null Message</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../sniffing/">Reverse Engineering Proprietary DDC Extensions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../acknowledgements/">Acknowledgements</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../technotes/">Technical Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../driver_bug_reports/">Driver Bug Reports of Interest</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Release History</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../releases/">Releases</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../release_notes_222/">Preliminary Notes for Upcoming Release 2.2.2</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Release Notes</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#ddcutil-222">ddcutil 2.2.2</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#bug-fixes">Bug Fixes</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#miscellanous-changes">Miscellanous changes:</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#debug-related-changes">Debug related changes:</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#build-fixes">Build Fixes:</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#ddcutil-221">ddcutil 2.2.1</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#general-changes">General Changes</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#fixes">Fixes</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#building">Building</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#ddcutil-220">ddcutil 2.2.0</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#displaylink">DisplayLink</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#raspberry-pi">Raspberry Pi</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#user-defined-features">User Defined Features</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#command-detect">Command detect</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#command-setvcp">Command setvcp</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#commands-interrogate-and-environment-verbose">Commands interrogate and environment --verbose</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#udev-rules">Udev rules</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#parser-changes">Parser changes</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#minor-bug-fixes-and-changes">Minor Bug Fixes and Changes</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#debugging-and-tracing">Debugging and Tracing</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#building-ddcutil">Building ddcutil</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../release_notes/">Prior Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../prior_announcements/">Announcement History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ddcui</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../ddcui_main/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ddcui_options/">Command Line Options</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../building_ddcui/">Building ddcui</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ddcui_release_notes/">ddcui Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ddcui_faq/">ddcui Frequently Asked Questions</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Related Resources</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../monitor_resources/">Monitor Specifications</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../windows_programs/">Windows Utilities for Monitor Control</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../mac_programs/">Macintosh Utlities for Monitor Control</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ddcutil_usage/">Applications using ddcutil</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">ddcutil Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Release History</li>
      <li class="breadcrumb-item active">Release Notes</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/rockowitz/ddcutil/edit/master/docs/release_notes_220.md" ></a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h2 id="notes-for-recent-ddcutil-releases">Notes for Recent <strong>ddcutil</strong> Releases</h2>
<p>For <strong>ddcui</strong> changes, see <a href="../ddcui_release_notes/"><strong>ddcui</strong> Release Notes</a></p>
<p>For notes on releases prior to 2.2.0, see <a href="../release_notes/">Notes for Releases 2.1.4 and Earlier</a>.</p>
<h3 id="ddcutil-222"><strong>ddcutil</strong> 2.2.2</h3>
<p>13 October 2025</p>
<h3 id="bug-fixes">Bug Fixes</h3>
<p>Release 2.2.2 contains one significant bug fix of interest to general users:</p>
<ul>
<li>Starting with release 2.2.0, verification on command <strong>setvcp</strong> and API functions that set a feature value did not
  not occur, even if option <strong><em>--verify</em></strong> was explicitly given.</li>
</ul>
<p>Additional bug fixes:</p>
<ul>
<li>Command <strong>getvcp --verbose</strong>: output was partially in a format intended for syslog.</li>
<li>Command <strong>environment --verbose</strong>: </li>
<li>Permission denied errors corrupted output of the find command used to scan for 
    DisplayLink devices.</li>
<li>Incorrectly formed path name for examining /sys/class/drm.</li>
<li>Fix out-of-tree build reference to generated file /src/base/build_details.h. Pull request #544</li>
<li>Build failed with an undefined reference error when <strong>configure</strong> option <strong><em>--disable-drm</em></strong>
   was specified. </li>
<li><strong>configure</strong> option <strong><em>--disable-drm</em></strong> forces <strong><em>--disable-watch-displays</em></strong> </li>
</ul>
<h3 id="miscellanous-changes">Miscellanous changes:</h3>
<ul>
<li>Relax the check of the device class when determining if a device is a video
  controller.   Look only at the first byte in sysfs device attribute class.
  An AMD Ryzen AI 9 365 based system was seen to report 0x038000, not 0x030000.
  Addresses issue #530.</li>
<li>Additional messages reporting configuration file errors. In particular,
  section names and the names of keys within each section are validated.
  Section names other than <strong>[global]</strong>, <strong>[ddcutil]</strong>, or <strong>[libddcutil]</strong>
  are flagged as errors.</li>
<li>If possible, obtain the list of PNP ids from /usr/share/hwdata/pnp.ids instead
  of using a hardcoded list.  Affects output of command <strong>detect</strong>. </li>
<li>Reword the parser explanation of options <strong><em>--verify</em></strong> and <strong><em>--noverify</em></strong>
  for clarity..</li>
<li>Attribute <strong>VERIFY</strong> can be specified on the <strong>ATTRS</strong> line in a feature 
  definition file.  If included, <strong>setvcp</strong> verification will never be performed
  for that feature, without affecting other features. Addresses monitors such as
  Samsung LS34A650U, which always returns 0 as the value of feature x10 (Brightness)
  and monitors such as Dell 2407WFP where <strong>setvcp x10</strong> values in the range 0..50 
  are mapped to the range 30..50. In particular, it allows client programs such
  as KDE PowerDevil succeed in setting a value.</li>
</ul>
<h3 id="debug-related-changes">Debug related changes:</h3>
<ul>
<li>Added option <strong><em>--trace-to_syslog</em></strong>: Direct trace output to the system log, without
  disabling other destinations</li>
<li>Added option <strong><em>--trcback <function name></em></strong>: Reports the caller stack (within <strong>ddcutil</strong>)
  of that function. This option requires that traced function stacks are enabled, 
  which is the default.</li>
</ul>
<h3 id="build-fixes">Build Fixes:</h3>
<h3 id="ddcutil-221"><strong>ddcutil</strong> 2.2.1</h3>
<p>10 July 2025</p>
<p>Release 2.2.1 contains some enhancements, particularly for display change detection, numerous small changes, and a large number of bug fixes.</p>
<p>For <strong>libddcutil</strong> related changes, see <a href="../c_api_221/">Shared Library Changes for Release 2.2.1</a>.</p>
<h3 id="general-changes">General Changes</h3>
<ul>
<li>Do not perform permission checks if running with effective user root, i.e. when
  running with setuid bit set. Partially addresses issue #509</li>
<li>Add option <strong><em>--disable-traced-function-stack</em></strong>.  (This is the default, but may change
  in future releases.) </li>
<li>Command <strong>environment</strong>: <ul>
<li>Report if running as root, with sudo, or setuid bit set</li>
<li>With option <strong><em>--verbose</em></strong>: eliminate some unneeded edid read tests</li>
</ul>
</li>
<li>Command <strong>setvcp</strong>: Emit more more useful messages when the cause of a
  DDCRC_RETRIES error is itself a DDCRC_RETRIES error.</li>
</ul>
<h3 id="fixes">Fixes</h3>
<ul>
<li>Avoid segfault if invalid feature code specified</li>
<li>Fix <strong><em>--verify</em></strong>/<strong><em>--noverify</em></strong> parsing.  Addresses issue #512.</li>
<li>Command <strong>getvcp --terse</strong>: Eliminate irrelevant messages regarding VCP version not set.</li>
<li>DDC communication not detected with old (340 series) Nvidia proprietary driver. Issue #507</li>
</ul>
<h3 id="building">Building</h3>
<ul>
<li><strong>configure</strong> option <strong><em>--enable-watch-displays</em></strong>/<strong><em>--disable-watch-displays</em></strong>
  controls whether display watch functionaliity is built.  The default is
  <strong><em>--enable-watch-displays</em></strong>.</li>
<li>If built with <strong><em>--disable-watch-displays</em></strong>, API functions related
    to display change detection return DDCRC_UNIMPLEMENTED</li>
<li>If <strong>configure</strong> option <strong><em>--disable-x11</em></strong> is specified, the only watch-mode
  is POLL. watch-mode XEVENT does not exist.</li>
</ul>
<h3 id="ddcutil-220"><strong>ddcutil</strong> 2.2.0</h3>
<p>17 February 2025 </p>
<p>For <strong>libddcutil</strong> changes, see <a href="../c_api_220/">Shared Library Changes for Release 2.2.0</a>.</p>
<p>Release 2.2.0 contains some enhancements, particularly for display change detection, numerous small changes, and a large number of bug fixes.</p>
<h3 id="displaylink">DisplayLink</h3>
<p>DisplayLink devices, using the evince driver, are supported.</p>
<h3 id="raspberry-pi">Raspberry Pi</h3>
<ul>
<li>Fix display not found and DDC communication failure on Raspberry Pi.
  Do not rely on sysfs attributes that do not exist for ARM devices. 
  Resolves github issues <a href="https://github.com/rockowitz/ddcutil/issues/403">403</a>,
  <a href="https://github.com/rockowitz/ddcutil/issues/413">413</a>.</li>
<li>Miscellaneous changes to allow for building on raspbian.</li>
</ul>
<h3 id="user-defined-features">User Defined Features</h3>
<ul>
<li>Add feature type <strong>XNC</strong> (Extended Non-Continous). This is like simple <strong>NC</strong>, but the SH byte is
    also reported. Provides a solution to the primary problem raised in 
    github issue <a href="https://github.com/rockowitz/ddcutil/issues/403">403</a>.
    Note that this feature type was created for use in user defined feature definitions;
    there are no features of this type defined in the Monitor Control Command Set specification.</li>
<li>Allow <strong>SNC</strong> (Simple Non-Continuous) as alternative name for <strong>NC</strong> (Non-Continuous).</li>
<li>Report user defined features as part of parsed capabilities.</li>
<li>Commands recognizing user defined features now fail if there's an error
    loading a user defined feature file.  The commands are <strong>capabilities</strong>, 
    <strong>setvcp</strong>, <strong>dumpvcp</strong>, and <strong>probe</strong>.</li>
<li>Fix error msg when nothing follows <strong>VALUE</strong> in user defined feature file.</li>
<li>When processing a user defined feature file, recognize any whitespace character
  (e.g. tab), not just space.</li>
</ul>
<h3 id="command-detect">Command <strong>detect</strong></h3>
<ul>
<li>Only show details about DDC communication errors if option <strong><em>--verbose</em></strong> is in effect.</li>
<li>Provide a clearer message if slave address x37 is inactive: <ul>
<li>"Monitor does not support DDC" instead of generic "DDC_commnication failed"</li>
<li>If option <strong><em>--verbose</em></strong> is in effect, emit an additional message to
   check the monitor's OSD.</li>
</ul>
</li>
<li>Report the Monitor Model Id in the <strong><em>--verbose</em></strong> output.</li>
<li>Report the connector id and DRM connector name in <strong><em>--verbose</em></strong> output</li>
</ul>
<h3 id="command-setvcp">Command <strong>setvcp</strong></h3>
<ul>
<li>Do not report "Interpretation may not be accurate." when the VCP version cannot be determined.
    This message is irrelevant for <strong>setvcp</strong>, which does not interpret feature values.
    Partially addresses github issue <a href="https://github.com/rockowitz/ddcutil/issues/454">454</a>.</li>
</ul>
<h3 id="commands-interrogate-and-environment-verbose">Commands <strong>interrogate</strong> and <strong>environment --verbose</strong></h3>
<ul>
<li>Force settings <strong><em>--disable-cross-instance-locking</em></strong>, <strong><em>--disable-dynamic-sleep</em></strong>.</li>
<li>When probing DRM, recognize bus types DRM_BUS_PLATFORM, DRM_BUS_HOST1X, 
    reported as "platform", "host1x".</li>
<li>The simple getvcp test was not reporting the bytes of the response packet.</li>
<li>If no device with class x03 was found, the user's home directory
   was dumped. Addresses github issue <a href="https://github.com/rockowitz/ddcutil/issues/413">413</a>.</li>
<li>Remove "-i" option on get-edid command. Does not exist on some versions.</li>
</ul>
<h3 id="udev-rules">Udev rules</h3>
<ul>
<li>/usr/lib/udev/rules.d/60-ddcutil-i2c-rules:<ul>
<li>Also give logged on user r/w access to /dev/dri/cardN, needed
  to allow the logged on user to probe connectors using DRM.</li>
</ul>
</li>
<li>Do not install /usr/lib/udev/rules.d/60-ddcutil-usb.rules, delete it
  if previously installed. Addresses github issues <a href="https://github.com/rockowitz/ddcutil/issues/405">405</a>, 
  <a href="https://github.com/rockowitz/ddcutil/issues/428">428</a>, <a href="https://github.com/rockowitz/ddcutil/issues/437">437</a>.
The UDEV rule in the file checks whether a /dev/hiddev device might possibly be used for VCP communication, and if so grants the logged on user RW access to the device.
It is relevant only in the case of monitors that use USB instead of I<sup>2</sup>C to communicate with the monitor's Virtual Control Panel, and whose usage conforms to the <a href="https://usb.org/sites/default/files/usbmon10.pdf">USB Monitor Control Class Specification</a>. Such monitors have proven to be extremely rare.</li>
</ul>
<h3 id="parser-changes">Parser changes</h3>
<ul>
<li>Add alternative option names for symmetry with other options: <ul>
<li><strong><em>--discard-capabilities-cache</em></strong> is an alias for <strong><em>--discard-cache capabilities</em></strong></li>
<li><strong><em>--discard-sleep-cache</em></strong> is an alias for <strong><em>--discard cache dsa</em></strong></li>
<li><strong><em>--discard-dsa-cache</em></strong> is an alias for <strong><em>--discard cache dsa</em></strong></li>
</ul>
</li>
<li>Eliminate <strong><em>--enable-dsa-cache</em></strong> as alias for <strong><em>--enable-dynamic-sleep-cache</em></strong>.</li>
<li>Improve handling of <strong><em>--verify</em></strong>/<strong><em>--noverify</em></strong>, error if both specified</li>
<li>Add <strong><em>--enable-flock</em></strong> and <strong><em>--disable-flock</em></strong> as aliases for 
  <strong><em>--enable-cross-instance-locks</em></strong> and <strong><em>--disable-cross-instance-locks</em></strong>.</li>
</ul>
<h3 id="minor-bug-fixes-and-changes">Minor Bug Fixes and Changes</h3>
<ul>
<li>Configuration file ddcutilrc: If there is a pound sign "#" on a line, 
  the remainder of the line is treated as a comment.</li>
<li>If option <strong><em>--bus</em></strong> is specified, only check accessability for that bus, avoiding
  irrelevant warning messages regarding other buses.  Addresses github issue <a href="https://github.com/rockowitz/ddcutil/issues/461">461:ddcutil tries to access other i2c devices even if --bus is used to specify the bus number</a>.</li>
<li>Add command <strong>noop</strong>, which allows for executing options such as 
  <strong><em>--settings</em></strong> without having to execute a real command.</li>
<li>Change the system log message level from WARNING to VERBOSE when sleep time is adjusted.
  Addresses github issue <a href="https://github.com/rockowitz/ddcutil/issues/427">427: Adjusting multiplier message fills system
  log when libddcutil used by clightd</a>.</li>
<li>When processing environment variable user $XDG_DATA_DIRS, or $XDG_CONFIG_DIRS,
  the final directory in the list was ignored. See github issue <a href="https://github.com/rockowitz/ddcutil/issues/438">438:ddcutil ignores the final entry in XDG_DATA_DIRS when looking for an mccs file</a>.</li>
<li>Fix a core dump on ddcutil getvcp. github issue <a href="https://github.com/rockowitz/ddcutil/issues/407">407:Core dump on ddcutil getvcp</a>.</li>
<li>Convert the few CRLF line endings in source code to LF.</li>
<li>Rework laptop detection. A non-laptop display can have an eDP connector.
  This is an i915 video driver bug that will not be fixed. See freedesktop.org issue 
  <a href="https://gitlab.freedesktop.org/drm/i915/kernel/-/issues/10389">DRM connector for external monitor has name card1-eDP-1</a>.</li>
<li>Ignore phantom displays when searching for a display reference.
  Addresses github issue <a href="https://github.com/rockowitz/ddcutil/issues/412">412:"Display not found" when using model / sn / mfg flags on ddcutil 2.1.4</a>.</li>
</ul>
<h3 id="debugging-and-tracing">Debugging and Tracing</h3>
<ul>
<li>Improve use of syslog. Prepend messages with thread id.</li>
<li>Additional trace groups <strong>CONN</strong> for functions related to detecting display connection events, and <strong>SYSFS</strong>
for functions querying /sys.</li>
<li>Optionally maintain thread-specific traced function stacks for debugging.
  Activated by option <strong><em>--enable-traced-function-stack</em></strong>. </li>
</ul>
<h3 id="building-ddcutil">Building ddcutil</h3>
<ul>
<li>As an aid to development, the build date and time are normally embedded in
  the ddcutil and libddcutil executables.  This is reported using command
  <strong>ddcutil --version --verbose</strong>.  <strong>libddcutil</strong> reports this to the system
  log. If reproducible builds are required, use <strong>configure</strong> option 
  <strong><em>--disable-build-timestamp</em></strong>. </li>
<li><strong>configure</strong> options <strong><em>--enable-x11</em></strong>/<strong><em>--disable-x11</em></strong> are restored.
  The default is <strong><em>--enable-x11</em></strong>. The X11 RandR API works on Wayland as well as 
  X11, and is used for display change detection.</li>
<li>Changes for portability:<ul>
<li>Use printf() formats %jd and %zd to portably print variables of type ssize_t, 
and time_t, so as to build  unchanged on architectures such as armel, armhf.</li>
<li>Avoid a possible warning messages (dependant on compiler configuration) when
a switch() construct is used. Replaced with if/else if/else. Resolves github issue <a href="">458:Fix build with -Werror=format-security and GCC 14.2.1</a></li>
</ul>
</li>
<li>Additional compiler warnings to tighten code, specified in automake variable AM_CFLAGS.<ul>
<li>Compile using option <strong><em>-Wformat-security</em></strong>. Addresses github issue <a href="https://github.com/rockowitz/ddcutil/issues/458">458:https://github.com/rockowitz/ddcutil/pull/458</a>.</li>
</ul>
</li>
</ul>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../release_notes_222/" class="btn btn-neutral float-left" title="Preliminary Notes for Upcoming Release 2.2.2"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../release_notes/" class="btn btn-neutral float-right" title="Prior Release Notes">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rockowitz/ddcutil" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../release_notes_222/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../release_notes/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(false);
        });
    </script>

</body>
</html>
