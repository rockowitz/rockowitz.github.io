<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Sanford Rockowitz" /><link rel="canonical" href="https://www.ddcutil.com/raspberry/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Raspberry Pi - ddcutil Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Raspberry Pi";
        var mkdocs_page_input_path = "raspberry.md";
        var mkdocs_page_url = "/raspberry/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> ddcutil Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Introduction</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../commands/">Command Overview</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Command Examples</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../cmd_output/">Command Examples</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../detect_verbose_output/">ddcutil detect example</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../getvcp_known_u3011_output/">ddcutil getvcp example</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../vcpinfo_output/">ddcutil vcpinfo example</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cap_u3011_verbose_output/">ddcutil capabilities example</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Command Detail</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../command_detail/">Command Detail</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../primary_commands/">Primary Commands</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Primary Commands</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../command_detect/">detect</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../command_capabilities/">capabilities</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../command_getvcp/">getvcp</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../command_setvcp/">setvcp</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../command_vcpinfo/">vcpinfo</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../command_dumpvcp_loadvcp/">dumpvcp &amp; loadvcp</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../command_scs/">scs</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../secondary_commands/">Secondary Commands</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../options_main/">Command Options</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Command Options</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../display_detection/">Display Detection</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../display_selection/">Display Selection</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../feature_selection/">Feature Selection</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../performance_options/">Performance and Tuning Options</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../instrumentation_options/">Instrumentation Options</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../output_control_options/">Output Level Options</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../other_options/">Miscellaneous Options</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../i2c_dev_options/">i2c-dev Driver Options</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../debug_options/">Debugging Options</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../deprecated_options/">Deprecated Options</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../libddcutil_options/">Shared Library Options</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Specific Facilities</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../table_features/">Table Type Features</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../usb/">USB Connected Monitors</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../colormgt/">Color Management</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../udf/">User Defined Features</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../config_file/">Configuration File</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Installation and Configuration</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../install_config_main/">Installation and Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../config_steps/">Post-Installation Checklist</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../install/">Install ddcutil From Prebuilt Packages</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../building/">Building From Source</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../shared_lib_config/">Shared Library Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../mult_shared_libs/">Notes for Linux Distribution Maintainers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../config/">Configuration and Installation Diagnostics</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../i2c_permissions/">I2C Device Permissions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../usb_permissions/">USB Device Permissions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../kernel_module/">Kernel Module Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../nvidia/">Special Nvidia Driver Settings</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../nvidia_old/">Setting Nvidia Driver Options Using X11</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../amdgpu/">Notes on driver amdgpu</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../virtual_machines/">Virtual Machines</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Raspberry Pi</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#raspberry-pi-4">Raspberry Pi 4</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#raspberry-pi-3">Raspberry Pi 3</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#background">Background</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../monitor_notes/">Notes on Specific Monitors</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../quirks/">Notes on Particular Configurations</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../typec/">USB-C DisplayPort Alt Mode</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Shared Library</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../api_main/">C API</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../libddcutil_release_notes/">Shared Library Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_90/">Shared Library Changes for Release 0.9.0</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_93/">Shared Library Changes for Release 0.9.3</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_95/">Shared Library Changes for Release 0.9.5</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_96/">Shared Library Changes for Release 0.9.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_98/">Shared Library Changes for Release 0.9.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_99/">Shared Library Changes for Release 0.9.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_100/">Shared Library Changes for Release 1.0.0</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_110/">Shared Library Changes for Release 1.1.0</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_120/">Shared Library Changes for Release 1.2.0</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_130/">Shared Library Changes for Release 1.3.0</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_140/">Shared Library Changes for Release 1.4.0</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_200/">Shared Library Changes for Release 2.0.0</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_210/">Shared Library Changes for Release 2.1.0</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_212/">Shared Library Changes for Release 2.1.2</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_213/">Shared Library Changes for Release 2.1.3</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../c_api_214/">Shared Library Changes for Release 2.1.4</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Background</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../mccs_background/">Monitor Control Command Set</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ddc_vs_i2c/">DDC vs I2C</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../displayport/">DDC and DisplayPort</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../bibliography/">References</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../devdoc/">Developer Documentation</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Additional Topics</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../articles/">Articles about ddcutil</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../faq/">Frequently Asked Questions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tech_support/">Technical Support</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ddccontrol/">Comparison with ddccontrol</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ddc_null_response/">DDC Null Message</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../sniffing/">Reverse Engineering Proprietary DDC Extensions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../acknowledgements/">Acknowledgements</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../technotes/">Technical Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../driver_bug_reports/">Driver Bug Reports of Interest</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Release History</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releases/">Releases</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../release_notes/">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../prior_announcements/">Announcement History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ddcui</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../ddcui_main/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ddcui_options/">Command Line Options</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../building_ddcui/">Building ddcui</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ddcui_release_notes/">ddcui Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ddcui_faq/">ddcui Frequently Asked Questions</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Related Resources</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../monitor_resources/">Monitor Specifications</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../windows_programs/">Windows Utilities for Monitor Control</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../mac_programs/">Macintosh Utlities for Monitor Control</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ddcutil_usage/">Applications using ddcutil</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">ddcutil Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Installation and Configuration</li>
      <li class="breadcrumb-item active">Raspberry Pi</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/rockowitz/ddcutil/edit/master/docs/raspberry.md" ></a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h2 id="raspberry-pi">Raspberry Pi</h2>
<h3 id="raspberry-pi-4">Raspberry Pi 4</h3>
<p>As of firmware 5.10, the HDMI interface on the Raspberry Pi 4 supports I2C.  The following steps will enable <strong>ddcutil</strong>. </p>
<ul>
<li>Ensure you are at least on firmware 5.10, which is now mainstream.  If necessary, execute: 
<br>
<code>$ sudo apt update &amp;&amp; sudo apt upgrade</code></li>
<li>In /boot/config/txt, look for the <strong><em>[Pi4]</em></strong> section and replace <strong><em>dtoverlay=vc4-fkms-v3d</em></strong> with <strong><em>dtoverlay=vc4-kms-v3d</em></strong></li>
<li>In /etc/modules, add i2c_dev  </li>
<li>Reboot  </li>
<li>If you have not yet installed ddcutil: <code>$ sudo apt install ddcutil</code></li>
<li>The I2C buses for the two HDMI ports are normally /dev/i2c-11 and /dev/i2c-12. However, the bus names will be /dev/i2c-12 and /dev/i2c-13 if 
<code>dtparam=i2c_vc_on</code> is also present in config.txt.</li>
</ul>
<p>Thank you Robert Alexa for updating the status of <strong>ddcutil</strong> on the Pi 4 and providing the above instructions. For a long thread on the problem of I2C support
on the Pi 4, see <a href="https://github.com/raspberrypi/linux/issues/3152#">Raspberry Pi issue #3152</a></p>
<p>Update 6/2023</p>
<p>Fresh install of Rasberry Pi OS (64 bit), build 2023-05-03 a spin of Debian 11 (bullseye) with kernel 6.1 on a Raspberry Pi Model B.   Enable I2C in raspi-config, and reboot.  apt install ddcutil, installs 0.9.9.  From OBS, installs 1.4.1.</p>
<h3 id="raspberry-pi-3">Raspberry Pi 3</h3>
<p>The following instructions for installing <strong>ddcutil</strong> on the Raspberry Pi are a distillation of user feedback, my own experiences with a Raspberry Pi 3 Model B, 
and discussions on the Web. </p>
<p><strong>ddcutil</strong> is known to work on both Raspberry Pi 3 Model B and Raspberry Pi 2.  It has been tested with the following distributions:</p>
<ul>
<li>Raspbian (Release 2017-09-07)</li>
<li>Ubuntu 16.04 </li>
<li>Fedora 26</li>
<li>openSUSE Tumbleweed with kernel 4.11.13 </li>
</ul>
<p>At least on The Raspberry Pi 2 or 3, the I2C bus for the HDMI connection is /dev/i2c-2.  To enable it, the following line is required in the <strong>config.txt</strong> file: </p>
<pre><code>dtparam=i2c2_iknowwhatimdoing
</code></pre>
<p>Alternatively, the experimental OpenGL <strong>vc4-kms-v3d driver</strong> enables /dev/i2c-2 automatically.   In that case, the above <strong><em>i2c2_iknowwhatimdoing</em></strong> setting is not needed, though this may possibly change:</p>
<pre><code>dtoverlay=vc4-kms-v3d
</code></pre>
<p>Also, ensure that i2c_dev is listed in /etc/modules, /etc/modules.conf, or a file in /etc/modules-load.d, as appropriate for your system.</p>
<p>Prebuilt <strong>ddcutil</strong> packages for the Raspberry Pi are available for many distributions.
See <a href="https://repology.org/metapackage/ddcutil/versions">Repology</a> for pointers.
If there is no prebuilt version for your environment, or the prebuilt version is out of date, <strong>ddcutil</strong> can be built from source.</p>
<h3 id="background">Background</h3>
<p>Enabling /dev/i2c-2 requires the peculiar dtpararm statement described above, instead of the more expected: </p>
<pre><code># Won't work!
dtparam=i2c2
</code></pre>
<p>The parameter name was chosen as a caution.  From the <a href="https://github.com/raspberrypi/linux/commit/c6f0998f61b279d47e210b90d645643a6fe7932b">commit</a> that added the option: </p>
<blockquote>
<p>The third I2C bus (I2C2) is normally reserved for HDMI use. Careless use of this bus can break an attached display - use with caution.</p>
<p>It is recommended to disable accesses by VideoCore by setting hdmi_ignore_edid=1 or hdmi_edid_file=1 in config.txt.</p>
<p>The interface is disabled by default - enable using the i2c2_iknowwhatimdoing DT parameter.</p>
</blockquote>
<p>The issue appears to be that application access to /dev/i2c-2 from the CPU is independent of, and so can conflict with, video driver access via the GPU (at least with the default driver).  From an <a href="https://github.com/raspberrypi/linux/issues/1028">online comment</a>: </p>
<blockquote>
<p>Yes, but the GPU considers itself to be the sole user of the BSC2 peripheral. Poking the i2c from the ARM CPU (via linux driver) will likely work, but beware if the GPU tries to access the same peripheral then bad things will happen.
. As long as you stay away from hotplugging HDMI, or tvservice commands (or anything likely to use tvservice) then the GPU is unlikely cause any traffic on BSC2.</p>
</blockquote>
<p>As a practical matter, this does not appear to be an issue.</p>
<p>Concerns have also been expressed about 3.3v vs 5v voltage incompatibility on the I2C bus, since the HDMI spec is 5v.  However, as I read the 
<a href="https://www.nxp.com/docs/en/user-guide/UM10204.pdf">I2C Specification</a> any recent I2C implementation should be able to adapt to voltages up
to 5.5 volt. Again, I have not experienced a problem in this regard. </p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../virtual_machines/" class="btn btn-neutral float-left" title="Virtual Machines"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../monitor_notes/" class="btn btn-neutral float-right" title="Notes on Specific Monitors">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rockowitz/ddcutil" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../virtual_machines/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../monitor_notes/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(false);
        });
    </script>

</body>
</html>
